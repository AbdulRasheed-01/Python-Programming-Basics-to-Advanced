Week 4: Functions and Modules

ðŸ“‹ Learning Objectives
By the end of this week, you will be able to:

âœ… Create and use functions effectively

âœ… Understand function parameters and return values

âœ… Work with variable scope and lifetimes

âœ… Use lambda functions for simple operations

âœ… Create and import modules

âœ… Build and organize packages

âœ… Handle command-line arguments

âœ… Write recursive functions

âœ… Use decorators to enhance functions

ðŸ“š Theory Content
4.1 Why Functions?
Functions help you:

Reuse code - Write once, use many times

Organize code - Break complex problems into smaller pieces

Abstract details - Hide implementation complexity

Test easily - Test functions independently

Collaborate - Share functions with others

ðŸ”§ Practical Exercises
Exercise 1: Basic Functions

# basic_functions.py
"""
Introduction to creating and using functions
"""

print("="*60)
print("BASIC FUNCTIONS")
print("="*60)

# 1. Simple function with no parameters
def greet():
    """Simple greeting function"""
    print("Hello! Welcome to Python functions!")

print("\n1. Simple function:")
greet()
greet()  # Can call multiple times

# 2. Function with parameters
def greet_person(name):
    """Greet a specific person"""
    print(f"Hello, {name}! Nice to meet you!")

print("\n2. Function with parameters:")
greet_person("Alice")
greet_person("Bob")

# 3. Function with return value
def add(a, b):
    """Add two numbers and return result"""
    result = a + b
    return result

print("\n3. Function with return value:")
sum_result = add(5, 3)
print(f"5 + 3 = {sum_result}")

# 4. Multiple return values
def get_min_max(numbers):
    """Return both minimum and maximum"""
    return min(numbers), max(numbers)

print("\n4. Multiple return values:")
nums = [4, 2, 9, 1, 7, 5]
minimum, maximum = get_min_max(nums)
print(f"Numbers: {nums}")
print(f"Min: {minimum}, Max: {maximum}")

# 5. Function with docstring
def calculate_area(radius):
    """
    Calculate the area of a circle.
    
    Args:
        radius (float): The radius of the circle
        
    Returns:
        float: The area of the circle
    """
    import math
    return math.pi * radius ** 2

print("\n5. Function with docstring:")
area = calculate_area(5)
print(f"Area of circle with radius 5: {area:.2f}")
print(f"Docstring: {calculate_area.__doc__}")

# 6. Function as variable
def square(x):
    return x ** 2

def cube(x):
    return x ** 3

print("\n6. Functions as variables:")
operations = [square, cube]  # List of functions
for i in range(1, 4):
    print(f"\nNumber: {i}")
    for func in operations:
        result = func(i)
        print(f"  {func.__name__}: {result}")

# 7. Nested functions
def outer_function(text):
    """Function containing inner function"""
    def inner_function():
        print(f"Inner function says: {text}")
    
    print("Outer function calling inner...")
    inner_function()

print("\n7. Nested functions:")
outer_function("Hello from inside!")

# 8. Function with type hints (Python 3.5+)
def process_data(name: str, age: int, scores: list) -> dict:
    """
    Process user data with type hints.
    
    Args:
        name: Person's name
        age: Person's age
        scores: List of scores
        
    Returns:
        Dictionary with processed data
    """
    return {
        "name": name.upper(),
        "age": age,
        "average": sum(scores) / len(scores) if scores else 0,
        "status": "Adult" if age >= 18 else "Minor"
    }

print("\n8. Function with type hints:")
result = process_data("Alice", 25, [85, 90, 88, 92])
print(f"Result: {result}")

# 9. Practice: Temperature converter
def celsius_to_fahrenheit(celsius):
    """Convert Celsius to Fahrenheit"""
    return (celsius * 9/5) + 32

def fahrenheit_to_celsius(fahrenheit):
    """Convert Fahrenheit to Celsius"""
    return (fahrenheit - 32) * 5/9

print("\n9. Temperature converter:")
temps_c = [0, 25, 37, 100]
print("Celsius to Fahrenheit:")
for c in temps_c:
    f = celsius_to_fahrenheit(c)
    print(f"  {c}Â°C = {f:.1f}Â°F")

# 10. Practice: String utilities
def reverse_string(text):
    """Reverse a string"""
    return text[::-1]

def count_vowels(text):
    """Count vowels in a string"""
    vowels = "aeiouAEIOU"
    return sum(1 for char in text if char in vowels)

def is_palindrome(text):
    """Check if text is a palindrome"""
    cleaned = text.lower().replace(" ", "")
    return cleaned == cleaned[::-1]

print("\n10. String utilities:")
test_strings = ["hello", "racecar", "Python", "A man a plan a canal Panama"]
for s in test_strings:
    print(f"\n  '{s}':")
    print(f"    Reversed: {reverse_string(s)}")
    print(f"    Vowels: {count_vowels(s)}")
    print(f"    Palindrome: {is_palindrome(s)}")

Output:

============================================================
BASIC FUNCTIONS
============================================================

1. Simple function:
Hello! Welcome to Python functions!
Hello! Welcome to Python functions!

2. Function with parameters:
Hello, Alice! Nice to meet you!
Hello, Bob! Nice to meet you!

3. Function with return value:
5 + 3 = 8

4. Multiple return values:
Numbers: [4, 2, 9, 1, 7, 5]
Min: 1, Max: 9

5. Function with docstring:
Area of circle with radius 5: 78.54
Docstring: 
    Calculate the area of a circle.
    
    Args:
        radius (float): The radius of the circle
        
    Returns:
        float: The area of the circle
    

6. Functions as variables:

Number: 1
  square: 1
  cube: 1

Number: 2
  square: 4
  cube: 8

Number: 3
  square: 9
  cube: 27

7. Nested functions:
Outer function calling inner...
Inner function says: Hello from inside!

8. Function with type hints:
Result: {'name': 'ALICE', 'age': 25, 'average': 88.75, 'status': 'Adult'}

9. Temperature converter:
Celsius to Fahrenheit:
  0Â°C = 32.0Â°F
  25Â°C = 77.0Â°F
  37Â°C = 98.6Â°F
  100Â°C = 212.0Â°F

10. String utilities:

  'hello':
    Reversed: olleh
    Vowels: 2
    Palindrome: False

  'racecar':
    Reversed: racecar
    Vowels: 3
    Palindrome: True

  'Python':
    Reversed: nohtyP
    Vowels: 1
    Palindrome: False

  'A man a plan a canal Panama':
    Reversed: amanaP lanac a nalp a nam A
    Vowels: 10
    Palindrome: True
Exercise 2: Function Parameters Deep Dive

# function_parameters.py
"""
Comprehensive guide to different parameter types
"""

print("="*60)
print("FUNCTION PARAMETERS DEEP DIVE")
print("="*60)

# 1. Positional arguments (order matters)
def describe_person(name, age, city):
    """Describe a person using positional arguments"""
    return f"{name} is {age} years old and lives in {city}"

print("\n1. POSITIONAL ARGUMENTS:")
print(describe_person("Alice", 30, "New York"))
print(describe_person("Bob", 25, "Los Angeles"))  # Order matters!

# 2. Default parameters
def create_profile(name, age=18, city="Unknown", active=True):
    """Create user profile with default values"""
    return {
        "name": name,
        "age": age,
        "city": city,
        "active": active,
        "member_type": "Premium" if age >= 21 else "Standard"
    }

print("\n2. DEFAULT PARAMETERS:")
print("Using all defaults:", create_profile("Alice"))
print("Override age:", create_profile("Bob", age=25))
print("Override multiple:", create_profile("Charlie", city="Chicago", active=False))

# 3. Keyword arguments (named parameters)
def calculate_total(price, quantity, tax_rate=0.08, discount=0):
    """Calculate total with optional tax and discount"""
    subtotal = price * quantity
    discount_amount = subtotal * discount
    after_discount = subtotal - discount_amount
    tax = after_discount * tax_rate
    total = after_discount + tax
    return total

print("\n3. KEYWORD ARGUMENTS:")
print("Positional only:", calculate_total(10, 3))
print("Mixed:", calculate_total(10, 3, tax_rate=0.1))
print("All keyword:", calculate_total(price=10, quantity=3, discount=0.1, tax_rate=0.08))

# 4. Variable positional arguments (*args)
def sum_all(*numbers):
    """Sum any number of arguments"""
    print(f"  Received {len(numbers)} numbers: {numbers}")
    return sum(numbers)

def calculate_average(*grades):
    """Calculate average of any number of grades"""
    if not grades:
        return 0
    return sum(grades) / len(grades)

print("\n4. VARIABLE POSITIONAL ARGUMENTS (*args):")
print("Sum of 1,2,3:", sum_all(1, 2, 3))
print("Sum of 1,2,3,4,5:", sum_all(1, 2, 3, 4, 5))
print("Average of grades:", calculate_average(85, 90, 78, 92, 88))

# Unpacking lists into *args
numbers = [10, 20, 30]
print("Unpacking list:", sum_all(*numbers))

# 5. Variable keyword arguments (**kwargs)
def create_student(**info):
    """Create student with any number of attributes"""
    print("\n  Student Information:")
    for key, value in info.items():
        print(f"    {key}: {value}")
    return info

print("\n5. VARIABLE KEYWORD ARGUMENTS (**kwargs):")
student1 = create_student(name="Alice", age=20, major="CS", year=3)
student2 = create_student(name="Bob", age=22, major="Engineering", gpa=3.8, sports="Soccer")

# Unpacking dictionaries into **kwargs
student_data = {
    "name": "Charlie",
    "age": 21,
    "major": "Physics",
    "year": 4,
    "honors": True
}
student3 = create_student(**student_data)

# 6. Combining parameter types
def complex_function(pos1, pos2, /, pos_or_kwd=10, *, kwd1, kwd2=20):
    """
    Demonstrates all parameter types:
    - pos1, pos2: Positional-only (before /)
    - pos_or_kwd: Positional or keyword (between / and *)
    - kwd1, kwd2: Keyword-only (after *)
    """
    print(f"\n  pos1={pos1}, pos2={pos2}")
    print(f"  pos_or_kwd={pos_or_kwd}")
    print(f"  kwd1={kwd1}, kwd2={kwd2}")
    return pos1 + pos2 + pos_or_kwd + kwd1 + kwd2

print("\n6. COMBINING PARAMETER TYPES:")
# Positional-only must be positional
result = complex_function(1, 2, kwd1=5)
print(f"  Result: {result}")

# Positional-or-keyword can be either
result = complex_function(1, 2, 3, kwd1=5)
print(f"  Result: {result}")

# Keyword-only must be keyword
result = complex_function(1, 2, kwd1=5, kwd2=10)
print(f"  Result: {result}")

# 7. Practical example: Flexible configuration
def configure_robot(**settings):
    """Configure a robot with any settings"""
    default_settings = {
        "name": "Robot-1",
        "speed": 1.0,
        "color": "red",
        "sensors": ["camera", "lidar"],
        "battery": 100
    }
    
    # Update defaults with provided settings
    default_settings.update(settings)
    return default_settings

print("\n7. PRACTICAL EXAMPLE - Robot Configuration:")
robot1 = configure_robot()
print("Default robot:", robot1)

robot2 = configure_robot(name="R2D2", speed=2.5, color="blue")
print("Custom robot:", robot2)

robot3 = configure_robot(
    name="Wall-E",
    speed=0.5,
    color="yellow",
    sensors=["camera", "gripper", "compactor"],
    battery=85,
    special_feature="Trash compactor"
)
print("Advanced robot:", robot3)

# 8. Function with mixed args and kwargs
def process_data(*args, **kwargs):
    """Process data with both args and kwargs"""
    print(f"\n  Positional args ({len(args)}): {args}")
    print(f"  Keyword kwargs ({len(kwargs)}): {kwargs}")
    
    # Process based on operation type
    operation = kwargs.get('operation', 'sum')
    
    if operation == 'sum':
        return sum(args)
    elif operation == 'average':
        return sum(args) / len(args) if args else 0
    elif operation == 'multiply':
        result = 1
        for num in args:
            result *= num
        return result
    else:
        return f"Unknown operation: {operation}"

print("\n8. MIXED ARGS AND KWARGS:")
print("Sum:", process_data(1, 2, 3, 4, operation='sum'))
print("Average:", process_data(10, 20, 30, operation='average'))
print("Multiply:", process_data(2, 3, 4, 5, operation='multiply'))

# 9. Parameter validation
def set_temperature(temp, unit='C'):
    """Set temperature with validation"""
    # Type checking
    if not isinstance(temp, (int, float)):
        raise TypeError(f"Temperature must be number, got {type(temp)}")
    
    # Range validation
    if unit.upper() == 'C':
        if temp < -273.15:
            raise ValueError(f"Temperature below absolute zero: {temp}Â°C")
    elif unit.upper() == 'F':
        if temp < -459.67:
            raise ValueError(f"Temperature below absolute zero: {temp}Â°F")
    else:
        raise ValueError(f"Unknown unit: {unit}")
    
    return f"Temperature set to {temp}Â°{unit.upper()}"

print("\n9. PARAMETER VALIDATION:")
print(set_temperature(25))
print(set_temperature(98.6, 'F'))

try:
    print(set_temperature(-300, 'C'))
except ValueError as e:
    print(f"  Error: {e}")

# 10. Function overloading simulation (with default params)
def calculate_area_shape(shape, *dimensions):
    """Calculate area of different shapes using single function"""
    if shape == "circle":
        radius = dimensions[0]
        import math
        return math.pi * radius ** 2
    elif shape == "rectangle":
        length, width = dimensions
        return length * width
    elif shape == "triangle":
        base, height = dimensions
        return 0.5 * base * height
    elif shape == "square":
        side = dimensions[0]
        return side ** 2
    else:
        return f"Unknown shape: {shape}"

print("\n10. SIMULATED FUNCTION OVERLOADING:")
print(f"Circle area (r=5): {calculate_area_shape('circle', 5):.2f}")
print(f"Rectangle area (5x3): {calculate_area_shape('rectangle', 5, 3)}")
print(f"Triangle area (base=4, height=6): {calculate_area_shape('triangle', 4, 6)}")
print(f"Square area (side=4): {calculate_area_shape('square', 4)}")



